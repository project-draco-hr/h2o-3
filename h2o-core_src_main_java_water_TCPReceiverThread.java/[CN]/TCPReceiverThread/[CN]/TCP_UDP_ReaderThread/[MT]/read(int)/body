{
  if (_bb.remaining() < n)   throw new IllegalStateException("Reading more bytes than available, reading " + n + " bytes, remaining = "+ _bb.remaining());
  int sizeRead=0;
  while (sizeRead < n) {
    int res=0;
    res=_chan.read(_bb);
    if (res == -1)     throw new EOFException("Reading " + n + " bytes, AB="+ this);
    if (res == 0)     throw new RuntimeException("Reading zero bytes - so no progress?");
    sizeRead+=res;
  }
  return sizeRead;
}
