{
  if (_parms._solver == Solver.IRLSM) {
    long p=_train.degreesOfFreedom() - _train.lastVec().cardinality();
    HeartBeat hb=H2O.CLOUD._memary[H2O.SELF.index()]._heartbeat;
    long mem_usage=hb._cpus_allowed * p * p* 8;
    long max_mem=hb.get_max_mem();
    if (mem_usage > max_mem) {
      String msg="Gram matrices (one per thread) won't fit in the driver node's memory (" + PrettyPrint.bytes(mem_usage) + " > "+ PrettyPrint.bytes(max_mem)+ ") - try reducing the number of columns and/or the number of categorical factors.";
      error("_train",msg);
      cancel(msg);
    }
  }
}
