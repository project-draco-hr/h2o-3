{
  GLM job=null;
  GLMModel model=null;
  Frame fr=parse_test_file("smalldata/glm_test/glm_test2.csv");
  Frame score=null;
  try {
    Scope.enter();
    GLMParameters params=new GLMParameters(Family.binomial);
    params._response_column="response";
    params._ignored_columns=new String[]{"ID"};
    params._train=fr._key;
    params._lambda=new double[]{0};
    job=new GLM(Key.make("glm_model"),"glm test simple poisson",params);
    model=job.trainModel().get();
    assertEquals(model.validation().auc(),1,1e-4);
    double[] beta=model.beta();
    for (    double d : beta)     assertTrue(Math.abs(d) < 16);
    GLMValidation val=model.validation();
    assertEquals(1,val.auc,1e-2);
    score=model.score(fr);
    hex.ModelMetricsBinomial mm=hex.ModelMetricsBinomial.getFromDKV(model,fr);
    AUCData adata=mm._aucdata;
    assertEquals(val.auc(),adata.AUC(),1e-2);
  }
  finally {
    fr.remove();
    if (model != null)     model.delete();
    if (score != null)     score.delete();
    if (job != null)     job.remove();
    Scope.exit();
  }
}
