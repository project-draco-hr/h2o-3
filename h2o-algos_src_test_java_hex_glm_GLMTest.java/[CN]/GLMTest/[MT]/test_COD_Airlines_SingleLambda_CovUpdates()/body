{
  GLMModel model1=null;
  Frame fr=parse_test_file(Key.make("Airlines"),"smalldata/airlines/AirlinesTrain.csv.zip");
  String[] ignoredCols=new String[]{"IsDepDelayed_REC"};
  try {
    Scope.enter();
    GLMParameters params=new GLMParameters(Family.binomial);
    params._response_column="IsDepDelayed";
    params._ignored_columns=ignoredCols;
    params._train=fr._key;
    params._valid=fr._key;
    params._lambda=new double[]{0.01};
    params._alpha=new double[]{1};
    params._standardize=false;
    params._solver=Solver.COORDINATE_DESCENT;
    params._lambda_search=true;
    GLM glm=new GLM(Key.make("airlines_cat_nostd"),"Airlines with auto-expanded categorical variables, no standardization",params);
    model1=glm.trainModel().get();
    double[] beta=model1.beta();
    double l1pen=ArrayUtils.l1norm(beta,true);
    double l2pen=ArrayUtils.l2norm2(beta,true);
    double objective=glm.likelihood() / model1._nobs + params._lambda[params._lambda.length - 1] * params._alpha[0] * l1pen + params._lambda[params._lambda.length - 1] * (1 - params._alpha[0]) * l2pen / 2;
    System.out.println(" objective value " + objective);
    assertEquals(0.670921,objective,1e-2);
  }
  finally {
    fr.delete();
    if (model1 != null)     model1.delete();
  }
}
