{
  value=value.trim();
  Object v=null;
  if ("".equals(value)) {
    return false;
  }
switch (type) {
case "boolean":
    v=parseBoolean(value);
  break;
case "String":
v=value;
break;
case "String[]":
v=new String[]{value};
break;
case "double":
v=Double.parseDouble(value);
break;
case "double[]":
v=new double[]{Double.parseDouble(value)};
break;
case "int":
v=Integer.parseInt(value);
break;
case "int[]":
String[] splitValues=value.split(";");
int[] values=new int[]{splitValues.length};
for (int iter=0; iter < splitValues.length; iter++) {
if (!splitValues[iter].trim().equals("")) values[iter]=Integer.parseInt(splitValues[iter]);
}
v=values;
break;
case "float":
v=Float.parseFloat(value);
break;
case "float[]":
String[] splitValuesfloat=value.split(";");
float[] valuesfloat=new float[splitValuesfloat.length];
for (int iter=0; iter < splitValuesfloat.length; iter++) {
if (!splitValuesfloat[iter].trim().equals("")) valuesfloat[iter]=Float.parseFloat(splitValuesfloat[iter]);
}
v=valuesfloat;
break;
case "Key":
v=Key.make(value);
break;
default :
System.out.println("Unrecognized type: " + type);
break;
}
Class<?> clazz=params.getClass();
while (clazz != null) {
try {
Field field=clazz.getDeclaredField(name);
Object oldValue=field.get(params);
if (!v.equals(oldValue)) {
System.out.println("Set " + name + ": "+ v);
field.set(params,v);
}
return true;
}
 catch (NoSuchFieldException e) {
clazz=clazz.getSuperclass();
}
catch (Exception e) {
throw new IllegalStateException(e);
}
}
return false;
}
