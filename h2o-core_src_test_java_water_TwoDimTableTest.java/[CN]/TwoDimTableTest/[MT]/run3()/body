{
  TwoDimTable table=new TwoDimTable("My foo bar table",new String[]{"First row","R2","Row #3","Last row is here:"},new String[]{"DoubleValue","S2","My Terrible Percent Value"},new String[]{"double","string","double"},new String[]{"%f","%s","%f"},"",new String[][]{new String[]{null,"One",null},new String[]{null,null,null},new String[]{null,"Three",null},new String[]{null,"FooBar",null}},new double[][]{new double[]{1.123,emptyDouble,3200034.00001},new double[]{123.34,emptyDouble,1.0},new double[]{emptyDouble,emptyDouble,3234.00001},new double[]{3.33420923423423,emptyDouble,3.40234234}});
  String ts=table.toString();
  assertTrue(ts.length() > 0);
  Log.info(ts);
  String json=new TwoDimTableV1().fillFromImpl(table).toJsonString();
  assertTrue(json.equals("{\"__meta\":{\"schema_version\":1,\"schema_name\":\"TwoDimTableV1\",\"schema_type\":\"TwoDimTable\"},\"name\":\"My foo bar table\",\"columns\":[{\"__meta\":{\"schema_version\":1,\"schema_name\":\"ColumnSpecsV1\",\"schema_type\":\"Iced\"},\"name\":\"\",\"type\":\"string\",\"format\":\"%s\",\"description\":null},{\"__meta\":{\"schema_version\":1,\"schema_name\":\"ColumnSpecsV1\",\"schema_type\":\"Iced\"},\"name\":\"DoubleValue\",\"type\":\"double\",\"format\":\"%f\",\"description\":null},{\"__meta\":{\"schema_version\":1,\"schema_name\":\"ColumnSpecsV1\",\"schema_type\":\"Iced\"},\"name\":\"S2\",\"type\":\"string\",\"format\":\"%s\",\"description\":null},{\"__meta\":{\"schema_version\":1,\"schema_name\":\"ColumnSpecsV1\",\"schema_type\":\"Iced\"},\"name\":\"My Terrible Percent Value\",\"type\":\"double\",\"format\":\"%f\",\"description\":null}],\"rowcount\":4,\"data\":[[\"First row\",\"R2\",\"Row #3\",\"Last row is here:\"],[1.123,123.34,null,3.33420923423423],[\"One\",null,\"Three\",\"FooBar\"],[3200034.00001,1.0,3234.00001,3.40234234]]}"));
  Log.info(json);
}
