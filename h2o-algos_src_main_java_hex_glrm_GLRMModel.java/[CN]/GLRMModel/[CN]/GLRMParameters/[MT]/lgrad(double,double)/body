{
switch (_loss) {
case Quadratic:
    return 2 * (u - a);
case L1:
  return Math.signum(u - a);
case Huber:
return Math.abs(u - a) <= 1 ? u - a : Math.signum(u - a);
case Poisson:
return Math.exp(u) - a;
case Hinge:
return a * u <= 1 ? -a : 0;
case Logistic:
return -a / (1 + Math.exp(a * u));
case Periodic:
return ((2 * Math.PI) / _period) * Math.sin((a - u) * (2 * Math.PI) / _period);
default :
throw new RuntimeException("Unknown loss function " + _loss);
}
}
