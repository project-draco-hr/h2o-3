{
switch (regularization) {
case L2:
    return u * u;
case L1:
  return Math.abs(u);
default :
throw new RuntimeException("Unknown regularization function " + regularization);
}
}
