{
switch (_loss) {
case Quadratic:
case L1:
case Huber:
case Periodic:
    return u;
case Poisson:
  return Math.exp(u) - 1;
case Hinge:
return 1 / u;
case Logistic:
if (u == 0) return 0;
return (u > 0 ? Double.POSITIVE_INFINITY : Double.NEGATIVE_INFINITY);
default :
throw new RuntimeException("Unknown loss function " + _loss);
}
}
