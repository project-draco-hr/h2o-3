{
switch (_loss) {
case Quadratic:
    return (u - a) * (u - a);
case L1:
  return Math.abs(u - a);
case Huber:
return Math.abs(u - a) <= 1 ? 0.5 * (u - a) * (u - a) : Math.abs(u - a) - 0.5;
case Poisson:
return Math.exp(u) - a * u + a * Math.log(a) - a;
case Hinge:
return Math.max(1 - a * u,0);
case Logistic:
return Math.log(1 + Math.exp(-a * u));
case Periodic:
return 1 - Math.cos((a - u) * (2 * Math.PI) / _period);
default :
throw new RuntimeException("Unknown loss function " + _loss);
}
}
