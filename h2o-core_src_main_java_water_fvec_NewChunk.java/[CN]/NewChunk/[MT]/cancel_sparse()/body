{
  if (len() != len2()) {
    if (_ds == null) {
      int[] xs=alloc_exponent(len2());
      long[] ls=alloc_mantissa(len2());
      for (int i=0; i < len(); ++i) {
        xs[_id[i]]=_xs[i];
        ls[_id[i]]=_ls[i];
      }
      _xs=xs;
      _ls=ls;
    }
 else {
      double[] ds=alloc_doubles(len2());
      for (int i=0; i < len(); ++i)       ds[_id[i]]=_ds[i];
      _ds=ds;
    }
    _id=null;
    set_len(len2());
  }
}
