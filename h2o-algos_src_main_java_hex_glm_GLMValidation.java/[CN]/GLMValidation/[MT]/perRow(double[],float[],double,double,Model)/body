{
  _metricBuilder.perRow(ds,yact,weight,offset,m);
  if (!ArrayUtils.hasNaNsOrInfs(ds) && !ArrayUtils.hasNaNsOrInfs(yact)) {
    if (_glm._family == Family.binomial)     add2(yact[0],ds[2],weight,offset);
 else     add2(yact[0],ds[0],weight,offset);
  }
  return ds;
}
