{
  _yact[0]=(float)yreal;
  if (_glm._family == Family.binomial) {
    _ds[0]=ymodel > _threshold ? 1 : 0;
    _ds[1]=1 - ymodel;
    _ds[2]=ymodel;
  }
 else {
    _ds[0]=ymodel;
  }
  if (_computeMetrics)   _metricBuilder.perRow(_ds,_yact,weight,offset,null);
  add2(yreal,ymodel,weight,offset);
}
