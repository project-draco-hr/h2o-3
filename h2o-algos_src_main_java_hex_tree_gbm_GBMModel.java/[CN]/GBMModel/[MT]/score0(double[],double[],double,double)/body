{
  super.score0(data,preds,weight,offset);
  if (_parms._distribution == GBMParameters.Family.bernoulli) {
    double f=preds[1] + _output._init_f + offset;
    preds[2]=Distributions.Bernoulli.linkInv(f);
    preds[1]=1.0 - preds[2];
  }
 else   if (_parms._distribution == GBMParameters.Family.multinomial) {
    if (_output.nclasses() == 2) {
      preds[1]+=_output._init_f + offset;
      preds[2]=-preds[1];
    }
    hex.genmodel.GenModel.GBM_rescale(preds);
  }
 else {
    double f=preds[0] + _output._init_f + offset;
    if (_parms._distribution == GBMParameters.Family.gaussian) {
      preds[0]=Distributions.Gaussian.linkInv(f);
    }
 else     if (_parms._distribution == GBMParameters.Family.poisson) {
      preds[0]=Distributions.Poisson.linkInv(f);
    }
 else     if (_parms._distribution == GBMParameters.Family.gamma) {
      preds[0]=Distributions.Gamma.linkInv(f);
    }
  }
  return preds;
}
