{
  if (name == null || name.equals(""))   throw new IllegalArgumentException("Tried to lookup on a missing name. Are there free floating `%` in your AST?");
  int res=NULL;
  if (_local != null)   res=_local.typeOf2(name);
  if (res == NULL && _local != null)   res=_local.typeOf(name);
  if (res == NULL && search_global && _global != null)   res=_global.typeOf(name);
  if (res == NULL && search_global)   res=kvLookup(name);
  if (res == NULL && _parent != null)   res=_parent.getType(name,false);
  if (res == NULL)   throw new H2OIllegalArgumentException("Failed lookup of variable: " + name,"Failed lookup of variable: " + name + " in: "+ this);
  return res;
}
