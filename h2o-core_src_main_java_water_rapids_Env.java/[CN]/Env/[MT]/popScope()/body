{
  _local.clear();
  Futures fs=new Futures();
  for (  String k : _local._frames.keySet()) {
    boolean delete=true;
    if (isAry()) {
      if (peekAry()._key != null && peekAry()._key == _local._frames.get(k)._key)       continue;
    }
    Frame f=_local._frames.get(k);
    for (    Vec v : f.vecs())     delete&=subRef(v);
    if (delete)     f.delete();
  }
  _local._frames.clear();
  if (!isGlobal()) {
    for (    Key k : _locked) {
      if (isAry()) {
        if (peekAry()._key != null && peekAry()._key == k)         continue;
        if (Arrays.asList(peekAry().keys()).contains(k))         continue;
      }
      Keyed.remove(k,fs);
    }
  }
  fs.blockForPending();
}
