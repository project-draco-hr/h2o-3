{
  while (!_stack.isEmpty()) {
    int type=peekType();
switch (type) {
case ARY:
      remove(peek(),false);
    break;
default :
  pop();
break;
}
}
Futures fs=new Futures();
for (Vec v : _refcnt.keySet()) {
if (_refcnt.get(v)._val == 0) {
removeVec(v,fs);
}
}
fs.blockForPending();
}
