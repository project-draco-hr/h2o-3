{
  Frame frame=getFromDKV(f.key);
  f.frames=new Frame[1];
  f.frames[0]=frame;
  FramesBase schema=this.schema(version).fillFromImpl(f);
  if (f.find_compatible_models) {
    Model[] compatible=Frames.findCompatibleModels(frame,Models.fetchAll(),f.fetchModelCols());
    schema.compatible_models=new ModelSchema[compatible.length];
    schema.frames[0].compatible_models=new String[compatible.length];
    int i=0;
    for (    Model m : compatible) {
      schema.compatible_models[i]=m.schema().fillFromImpl(m);
      schema.frames[0].compatible_models[i]=m._key.toString();
      i++;
    }
  }
  return schema;
}
