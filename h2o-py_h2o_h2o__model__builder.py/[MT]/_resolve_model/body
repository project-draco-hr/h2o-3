def _resolve_model(future_model, **kwargs):
    future_model.poll()
    if ('_rest_version' in kwargs.keys()):
        model_json = H2OConnection.get_json(('Models/' + future_model.job.dest_key), _rest_version=kwargs['_rest_version'])['models'][0]
    else:
        model_json = H2OConnection.get_json(('Models/' + future_model.job.dest_key))['models'][0]
    model_type = model_json['output']['model_category']
    if (model_type == 'Binomial'):
        from model.binomial import H2OBinomialModel
        model = H2OBinomialModel(future_model.job.dest_key, model_json)
    elif (model_type == 'Clustering'):
        from model.clustering import H2OClusteringModel
        model = H2OClusteringModel(future_model.job.dest_key, model_json)
    elif (model_type == 'Regression'):
        from model.regression import H2ORegressionModel
        model = H2ORegressionModel(future_model.job.dest_key, model_json)
    elif (model_type == 'Multinomial'):
        from model.multinomial import H2OMultinomialModel
        model = H2OMultinomialModel(future_model.job.dest_key, model_json)
    elif (model_type == 'AutoEncoder'):
        from model.autoencoder import H2OAutoEncoderModel
        model = H2OAutoEncoderModel(future_model.job.dest_key, model_json)
    elif (model_type == 'DimReduction'):
        from model.dim_reduction import H2ODimReductionModel
        model = H2ODimReductionModel(future_model.job.dest_key, model_json)
    else:
        print model_type
        raise NotImplementedError
    return model
