{
  final int N=_fullN;
  double[][] xx=new double[N][];
  for (int i=0; i < N; ++i)   xx[i]=MemoryManager.malloc8d(lowerDiag ? i + 1 : N);
  for (int i=0; i < _diag.length; ++i)   xx[i][i]=_diag[i];
  for (int i=0; i < _xx.length; ++i) {
    for (int j=0; j < _xx[i].length; ++j) {
      xx[i + _diag.length][j]=_xx[i][j];
      if (!lowerDiag)       xx[j][i + _diag.length]=_xx[i][j];
    }
  }
  return xx;
}
