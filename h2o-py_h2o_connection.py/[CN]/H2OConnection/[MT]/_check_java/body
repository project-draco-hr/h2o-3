@staticmethod
def _check_java():
    if H2OConnection._pwhich('java'):
        return H2OConnection._pwhich('java')
    if os.getenv('JAVA_HOME'):
        return os.path.join(os.getenv('JAVA_HOME'), 'bin', 'java.exe')
    if (sys.platform == 'windows'):
        program_folder = os.path.join('C:', '{}', 'Java')
        program_folders = [program_folder.format('Program Files'), program_folder.format('Program Files (x86)')]
        for folder in program_folders:
            possible_jdk_dir = [d for d in folder if ('jdk' in d)]
            if (len(possible_jdk_dir) != 0):
                for jdk in possible_jdk_dir:
                    path = os.path.join(folder, jdk, 'bin', 'java.exe')
                    if os.path.exists(path):
                        return path
        for folder in program_folders:
            path = os.path.join(folder, 'jre7', 'bin', 'java.exe')
            if os.path.exists(path):
                raise ValueError((('Found JRE at ' + path) + '; but H2O requires the JDK to run.'))
    else:
        raise ValueError(('Cannot find Java. Please install the latest JDK from\n' + 'http://www.oracle.com/technetwork/java/javase/downloads/index.html'))
