{
  long now=System.currentTimeMillis();
  if (_firstScore == 0)   _firstScore=now;
  long sinceLastScore=now - _timeLastScoreStart;
  boolean updated=false;
  if (_parms._score_each_iteration || finalScoring || (now - _firstScore < 4000)|| (sinceLastScore > 4000 && (double)(_timeLastScoreEnd - _timeLastScoreStart) / sinceLastScore < 0.1)) {
    if (!updated)     _model.update(_key);
    updated=true;
    _timeLastScoreStart=now;
    Score sc=new Score(this,oob).doIt(build_tree_one_node).report(_model._output._ntrees,null);
    _model._output._nrmse=sc.nrmse();
    _model._output._cm=sc.cm();
    _model._output._auc=sc.auc();
    _timeLastScoreEnd=System.currentTimeMillis();
  }
  if (_parms._importance && _model._output._ntrees > 0) {
    if (!updated)     _model.update(_key);
    updated=true;
    Timer vi_timer=new Timer();
    _model._output._varimp=doVarImpCalc(false);
    Log.info("Computation of variable importance took: " + vi_timer.toString());
  }
  if (updated)   _model.update(_key);
}
