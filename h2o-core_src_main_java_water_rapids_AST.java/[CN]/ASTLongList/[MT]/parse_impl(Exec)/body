{
  ArrayList<Long> longs=new ArrayList<>();
  while (!E.isEnd()) {
    AST a=E.parse();
    if (a instanceof ASTNum)     longs.add((long)((ASTNum)a)._d);
 else     if (a instanceof ASTSpan)     spans.add((ASTSpan)a);
  }
  E.eatEnd();
  _l=new long[longs.size()];
  int i=0;
  for (  long l : longs)   _l[i++]=l;
  if (spans.size() != 0)   _spans=spans.toArray(new ASTSpan[spans.size()]);
  ASTLongList res=(ASTLongList)clone();
  res._l=_l;
  res._spans=_spans;
  return res;
}
