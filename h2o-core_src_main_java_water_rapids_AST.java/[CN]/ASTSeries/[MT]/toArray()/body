{
  int res_length=0;
  if (_spans != null)   for (  ASTSpan s : _spans)   res_length+=(int)s._max - (int)s._min + 1;
  if (_idxs != null)   res_length+=_idxs.length;
  long[] res=new long[res_length];
  int cur=0;
  if (_spans != null) {
    for (    ASTSpan s : _spans) {
      long[] l=s.toArray();
      for (int i=0; i < l.length; ++i)       res[cur++]=l[i];
    }
  }
  if (_idxs != null) {
    for (int i=0; i < _idxs.length; ++i)     res[cur++]=_idxs[i];
  }
  return res;
}
