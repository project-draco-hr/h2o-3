{
  if (rapids == null)   return null;
  if (rapids.ast_key == null)   throw new IllegalArgumentException("No key supplied to getKey.");
  boolean isEval=false;
  Value v;
  if ((v=DKV.get(rapids.ast_key.key())) != null) {
    if (!(v.get() instanceof Frame)) {
      Raft raft=v.get();
      Value vv=raft == null ? null : DKV.get(raft.get_key());
      isEval=vv != null && (vv.get() != null);
    }
 else     isEval=true;
  }
  rapids.evaluated=isEval;
  return rapids;
}
