{
  try {
    boolean needToEmit=true;
    if (!needToEmit) {
      return;
    }
    String branchName=calcBranch();
    String lastCommitHash=calcLastCommitHash();
    String describe=calcDescribe();
    String compiledOn=calcCompiledOn();
    String compiledBy=calcCompiledBy();
    PrintWriter writer=new PrintWriter(fileName);
    writer.println("package water.init;");
    writer.println("");
    writer.println("public class BuildVersion extends AbstractBuildVersion {");
    writer.println("    public String branchName()     { return \"" + branchName + "\"; }");
    writer.println("    public String lastCommitHash() { return \"" + lastCommitHash + "\"; }");
    writer.println("    public String describe()       { return \"" + describe + "\"; }");
    writer.println("    public String projectVersion() { return \"" + projectVersion + "\"; }");
    writer.println("    public String compiledOn()     { return \"" + compiledOn + "\"; }");
    writer.println("    public String compiledBy()     { return \"" + compiledBy + "\"; }");
    writer.println("}");
    writer.close();
  }
 catch (  Exception e) {
    System.out.println("");
    System.out.println("ERROR:  H2OBuildVersion emitBuildVersionJavaFileIfNecessary failed");
    System.out.println("");
    System.out.println(e);
    System.out.println("");
    System.exit(1);
  }
}
