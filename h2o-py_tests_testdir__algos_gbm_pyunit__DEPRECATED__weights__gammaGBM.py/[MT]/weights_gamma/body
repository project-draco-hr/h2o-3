def weights_gamma():
    htable = h2o.upload_file(pyunit_utils.locate('smalldata/gbm_test/moppe.csv'))
    htable['premiekl'] = htable['premiekl'].asfactor()
    htable['moptva'] = htable['moptva'].asfactor()
    htable['zon'] = htable['zon']
    hh = h2o.gbm(x=htable[0:3], y=htable['medskad'], training_frame=htable, distribution='gamma', weights_column='antskad', ntrees=20, max_depth=1, min_rows=1, learn_rate=1)
    ph = hh.predict(htable)
    assert (abs((8.804447 - hh._model_json['output']['init_f'])) < (1e-06 * 8.804447))
    assert (abs((3751.01 - ph[0].min())) < (0.0001 * 3751.01))
    assert (abs((15298.87 - ph[0].max())) < (0.0001 * 15298.87))
    assert (abs((8121.98 - ph[0].mean()[0])) < (0.0001 * 8121.98))
