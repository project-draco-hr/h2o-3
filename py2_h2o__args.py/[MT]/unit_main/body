def unit_main():
    global g_unit_main_already_called
    if g_unit_main_already_called:
        return
    g_unit_main_already_called = True
    unittest_already_called = False
    if True:
        import traceback
        frames = traceback.extract_stack()
        if ('pydevd.py' in frames[0][0]):
            unittest_already_called = True
        for frame in frames:
            print frame[0]
            if ('utrunner.py' in frame[0]):
                unittest_already_called = True
    parse_our_args()
    global python_test_name, python_cmd_args, python_cmd_line, python_cmd_ip, python_username
    python_test_name = find_python_test_name()
    python_cmd_args = ' '.join(sys.argv[1:])
    python_cmd_line = ('python %s %s' % (python_test_name, python_cmd_args))
    python_username = getpass.getuser()
    python_cmd_ip = get_ip_address(ipFromCmdLine=ip_from_cmd_line)
    print ('\nunit_main. Test: %s    command line: %s' % (python_test_name, python_cmd_line))
    if (not unittest_already_called):
        unittest.main()
