{
  Thread.currentThread().setPriority(Thread.MAX_PRIORITY - 1);
  uri=maybeTransformRequest(uri);
  RequestType type=RequestType.requestType(uri);
  String requestName=type.requestName(uri);
  maybeLogRequest(uri,method,parms);
  try {
    Request request=_requests.get(requestName);
    return request == null ? getResource(uri) : ((Request)request.clone()).serve(this,parms,type);
  }
 catch (  Exception e) {
    parms.setProperty("error",e.getClass().getSimpleName() + ": " + e.getMessage());
    return _http500.serve(this,parms,type);
  }
}
