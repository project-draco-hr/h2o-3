{
  File file=find_test_file("build/h2o-core.jar");
  assertTrue("Missing test file; do a 'make' and retest",file != null);
  NFSFileVec nfs=NFSFileVec.make(file);
  try {
    for (int i=0; i < H2O.CLOUD._memary.length; ++i) {
      ByteHistoThrow bh=new ByteHistoThrow(H2O.CLOUD._memary[i]);
      final boolean[] ok=new boolean[]{false};
      try {
        System.out.println("MRThrow: " + bh.getCompleter());
        bh.dfork(nfs).getResult();
        assertTrue(ok[0]);
      }
 catch (      DException.DistributedException e) {
        assertTrue(e.getMessage().contains("test"));
      }
catch (      java.lang.AssertionError ae) {
        throw ae;
      }
catch (      Throwable ex) {
        ex.printStackTrace();
        fail("Unexpected exception" + ex.toString());
      }
    }
  }
  finally {
    if (nfs != null)     nfs.remove();
  }
}
