{
  AModel.AParms p=new AModel.AParms();
  AModel.AOutput o=new AModel.AOutput();
  Vec cat=vec(new String[]{"A","B"},0,1,0,1);
  Frame trn=new Frame();
  trn.add("cat",cat);
  o._names=trn.names();
  o._domains=trn.domains();
  trn.remove();
  AModel am=new AModel(Key.make(),p,o);
  Frame tst=new Frame();
  tst.add("cat",cat.makeCon(Double.NaN));
  Frame adapt=new Frame(tst);
  String[] errs=am.adaptTestForTrain(adapt,true);
  Assert.assertTrue(errs.length == 0);
  Vec[] vecs=adapt.vecs();
  for (int i=0; i < vecs.length; i++)   if (tst.find(vecs[i]) != -1)   vecs[i]=null;
  adapt.delete();
  tst.remove();
}
