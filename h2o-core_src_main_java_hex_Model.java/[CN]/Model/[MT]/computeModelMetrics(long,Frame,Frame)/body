{
  if (_output.getModelCategory() == Model.ModelCategory.Binomial || _output.getModelCategory() == Model.ModelCategory.Multinomial) {
    SupervisedModel sm=(SupervisedModel)this;
    AUC auc=new AUC();
    ConfusionMatrix cm=new ConfusionMatrix();
    HitRatio hr=new HitRatio();
    sm.calcError(frame,frame.vec(_output.responseName()),predictions,predictions,"Prediction error:",true,20,cm,auc,hr);
    return ModelMetrics.createModelMetrics(this,frame,System.currentTimeMillis() - start_time,start_time,auc.aucdata,cm);
  }
 else   if (_output.getModelCategory() == Model.ModelCategory.Regression) {
    SupervisedModel sm=(SupervisedModel)this;
    sm.calcError(frame,frame.vec(_output.responseName()),predictions,predictions,"Prediction error:",true,20,null,null,null);
    return ModelMetrics.createModelMetrics(this,frame,System.currentTimeMillis() - start_time,start_time,null,null);
  }
  return null;
}
