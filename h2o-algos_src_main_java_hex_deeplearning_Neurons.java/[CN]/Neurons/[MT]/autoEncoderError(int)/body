{
  assert(_minfo.get_params()._autoencoder && _index == _minfo.get_params()._hidden.length);
  final float t=_input._a.get(row);
  final float y=_a.get(row);
  float g;
  if (params._loss == DeepLearningModel.DeepLearningParameters.Loss.MeanSquare) {
    g=t - y;
  }
 else   if (params._loss == DeepLearningModel.DeepLearningParameters.Loss.Absolute) {
    g=y > t ? -1f : 1f;
  }
 else   if (params._loss == DeepLearningModel.DeepLearningParameters.Loss.Huber) {
    if (Math.abs(y - t) < 1) {
      g=t - y;
    }
 else {
      g=y >= t + 1f ? -2f : 2f;
    }
  }
 else   throw H2O.unimpl("Loss " + params._loss + " not implemented for Auto-Encoder.");
  return g;
}
