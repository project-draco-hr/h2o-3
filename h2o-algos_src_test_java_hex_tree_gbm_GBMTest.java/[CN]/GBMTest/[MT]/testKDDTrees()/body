{
  GBM job1=null;
  GBM job2=null;
  GBMModel gbm1=null;
  GBMModel gbm2=null;
  Frame fr=null;
  Frame vfr=null;
  try {
    GBMModel.GBMParameters parms=new GBMModel.GBMParameters();
    Frame inF1=parse_test_file("bigdata/laptop/usecases/cup98LRN_z.csv");
    fr=inF1.subframe(new String[]{"DOB","LASTGIFT","TARGET_D"});
    Frame inF2=parse_test_file("bigdata/laptop/usecases/cup98VAL_z.csv");
    vfr=inF2.subframe(new String[]{"DOB","LASTGIFT","TARGET_D"});
    fr.replace(0,fr.vec("DOB").toEnum());
    vfr.replace(0,vfr.vec("DOB").toEnum());
    DKV.put(fr);
    DKV.put(vfr);
    parms._train=fr._key;
    parms._valid=vfr._key;
    parms._response_column="TARGET_D";
    parms._ntrees=2;
    job1=new GBM(parms);
    gbm1=job1.trainModel().get();
    job2=new GBM(parms);
    gbm2=job2.trainModel().get();
    inF1.remove();
    inF2.remove();
  }
  finally {
    if (fr != null)     fr.remove();
    if (vfr != null)     vfr.remove();
    if (gbm1 != null)     gbm1.delete();
    if (gbm2 != null)     gbm2.delete();
    if (job1 != null)     job1.remove();
    if (job2 != null)     job2.remove();
  }
}
