def consistency_check(ip, port):
    h2o.init(ip, port)
    h2o.ipy_notebook_exec(h2o.locate('h2o-py/demos/citi_bike_small.ipynb'), save_and_norun=True)
    h2o.ipy_notebook_exec(h2o.locate('h2o-py/demos/citi_bike_large.ipynb'), save_and_norun=True)
    small = list(open('citi_bike_small.py', 'r'))
    large = list(open('citi_bike_large.py', 'r'))
    os.remove(h2o.locate('h2o-py/tests/testdir_misc/citi_bike_small.py'))
    os.remove(h2o.locate('h2o-py/tests/testdir_misc/citi_bike_large.py'))
    for (s, l) in zip(small, large):
        if (s != l):
            assert ((s == 'data = h2o.import_frame(path=small_test)\n') and (l != 'data = h2o.import_frame(path=large_test)\n')), 'This difference is not allowed between the small and large citibike demos.\nCitibike small: {0}Citibike large: {1}'.format(s, l)
