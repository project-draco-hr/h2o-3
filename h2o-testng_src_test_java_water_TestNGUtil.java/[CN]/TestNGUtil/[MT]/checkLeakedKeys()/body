{
  int leaked_keys=H2O.store_size() - _initial_keycnt;
  if (leaked_keys > 0) {
    int cnt=0;
    for (    Key k : H2O.localKeySet()) {
      Value value=Value.STORE_get(k);
      if (value.isVecGroup() || k == Job.LIST || (value.isJob() && value.<Job>get().isStopped()))       leaked_keys--;
 else {
        if (cnt++ < 10)         System.err.println("Leaked key: " + k + " = "+ TypeMap.className(value.type()));
      }
    }
    if (10 < leaked_keys)     System.err.println("... and " + (leaked_keys - 10) + " more leaked keys");
  }
  assertTrue(leaked_keys <= 0,"No keys leaked");
  _initial_keycnt=H2O.store_size();
}
