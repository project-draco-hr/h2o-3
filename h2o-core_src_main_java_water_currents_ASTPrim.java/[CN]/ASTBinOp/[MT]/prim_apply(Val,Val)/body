{
switch (left.type()) {
case Env.NUM:
    final double dlf=((ValNum)left)._d;
switch (rite.type()) {
case Env.NUM:
    return new ValNum(op(dlf,((ValNum)rite)._d));
case Env.FRM:
  return scalar_op_frame(dlf,((ValFrame)rite)._fr);
case Env.STR:
throw H2O.unimpl();
default :
throw H2O.fail();
}
case Env.FRM:
Frame flf=((ValFrame)left)._fr;
switch (rite.type()) {
case Env.NUM:
return frame_op_scalar(flf,((ValNum)rite)._d);
case Env.STR:
return frame_op_scalar(flf,((ValStr)rite)._str);
case Env.FRM:
return frame_op_frame(flf,((ValFrame)rite)._fr);
default :
throw H2O.fail();
}
case Env.STR:
throw H2O.unimpl();
default :
throw H2O.fail();
}
}
