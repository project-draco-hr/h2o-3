{
  String iced_name=iced_cc.getName();
  CtClass icer_cc=_pool.makeClass(icer_name);
  icer_cc.setSuperclass(super_icer);
  icer_cc.setModifiers(javassist.Modifier.PUBLIC);
  String debug=make_body(icer_cc,iced_cc,iced_clazz,"write","protected final water.AutoBuffer write" + id + "(water.AutoBuffer ab, "+ iced_name+ " ice) {\n","  write" + super_id + "(ab,ice);\n","  ab.put%z(ice.%s);\n","  ab.put%z((%C)_unsafe.get%u(ice,%dL)); // %s\n","  ab.putEnum(ice.%s);\n","  ab.putEnum((%C)_unsafe.get%u(ice,%dL)); // %s\n","  ab.put%z(ice.%s);\n","  ab.put%z((%C)_unsafe.get%u(ice,%dL)); // %s\n","","  return ab;\n" + "}");
  if (debug != null) {
    System.out.println("class " + icer_cc.getName() + " extends "+ super_icer.getName()+ " {");
    System.out.println(debug);
  }
  String wbody="water.AutoBuffer write(water.AutoBuffer ab, water.Freezable ice) {\n" + "  return write" + id + "(ab,("+ iced_name+ ")ice);\n"+ "}";
  if (debug != null)   System.out.println(wbody);
  addMethod(wbody,icer_cc);
  String rbody_impl=make_body(icer_cc,iced_cc,iced_clazz,"read","protected final " + iced_name + " read"+ id+ "(water.AutoBuffer ab, "+ iced_name+ " ice) {\n","  read" + super_id + "(ab,ice);\n","  ice.%s = ab.get%z();\n","  _unsafe.put%u(ice,%dL,ab.get%z());  //%s\n","  ice.%s = %c.raw_enum(ab.get1());\n","  _unsafe.putObject(ice,%dL,%c.raw_enum(ab.get1()));  //%s\n","  ice.%s = (%C)ab.get%z(%c.class);\n","  _unsafe.putObject(ice,%dL,(%C)ab.get%z(%c.class));  //%s\n","","  return ice;\n" + "}");
  if (debug != null)   System.out.println(rbody_impl);
  String rbody="water.Freezable read(water.AutoBuffer ab, water.Freezable ice) {\n" + "  return read" + id + "(ab,("+ iced_name+ ")ice);\n"+ "}";
  if (debug != null)   System.out.println(rbody);
  addMethod(rbody,icer_cc);
  String cnbody="java.lang.String className() { return \"" + iced_name + "\"; }";
  if (debug != null)   System.out.println(cnbody);
  addMethod(cnbody,icer_cc);
  String ftbody="protected int frozenType() { return " + id + "; }";
  if (debug != null)   System.out.println(ftbody);
  addMethod(ftbody,icer_cc);
  if (iced_cc.subclassOf(_dtask)) {
    String cpbody_impl=make_body(icer_cc,iced_cc,iced_clazz,"copyOver","void copyOver(water.Freezable fdst, water.Freezable fsrc) {\n","  super.copyOver(fdst,fsrc);\n" + "  " + iced_name + " dst = ("+ iced_name+ ")fdst;\n"+ "  "+ iced_name+ " src = ("+ iced_name+ ")fsrc;\n","  dst.%s = src.%s;\n","  _unsafe.put%u(dst,%dL,_unsafe.get%u(src,%dL));  //%s\n","  dst.%s = src.%s;\n","  _unsafe.put%u(dst,%dL,_unsafe.get%u(src,%dL));  //%s\n","  dst.%s = src.%s;\n","  _unsafe.put%u(dst,%dL,_unsafe.get%u(src,%dL));  //%s\n","","}");
    if (debug != null)     System.out.println(cpbody_impl);
  }
  String cstrbody="public " + icer_cc.getSimpleName() + "( "+ iced_name+ " iced) { super(iced); }";
  if (debug != null)   System.out.println(cstrbody);
  try {
    icer_cc.addConstructor(CtNewConstructor.make(cstrbody,icer_cc));
  }
 catch (  CannotCompileException ce) {
    System.err.println("--- Compilation failure while compiling " + icer_cc.getName() + "\n"+ cstrbody+ "\n------");
    throw ce;
  }
  if (debug != null)   System.out.println("}");
  return icer_cc;
}
