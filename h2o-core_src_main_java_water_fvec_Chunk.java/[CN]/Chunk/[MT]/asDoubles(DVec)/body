{
  if (dv.vals.length != _len)   throw new IllegalArgumentException();
  for (int i=0; i < _len; ++i) {
    dv.vals[i]=atd_impl(i);
    dv.ids[i]=i;
  }
  return dv;
}
