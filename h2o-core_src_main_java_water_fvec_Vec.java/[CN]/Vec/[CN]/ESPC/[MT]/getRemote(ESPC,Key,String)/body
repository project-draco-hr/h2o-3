{
  final ESPC remote=DKV.getGet(kespc);
  System.err.println(kespc + ", ESPC remote= #" + (remote == null ? "null" : remote._espcs.length)+ ", local= #"+ local._espcs.length+ ", "+ msg);
  if (remote == null || remote == local)   return local;
  long[][] local_espcs=local._espcs;
  long[][] remote_espcs=remote._espcs;
  while (true) {
    if (local_espcs.length >= remote_espcs.length)     return local;
    System.arraycopy(local._espcs,0,remote._espcs,0,local._espcs.length);
    ESPC res=ESPCS.putIfMatch(kespc,remote,local);
    System.err.println(kespc + ", Failed, retrying ESPCS update from #" + local_espcs.length+ " to #"+ remote_espcs.length+ ", existing size is #"+ res._espcs.length);
    local=res;
    local_espcs=local._espcs;
    remote_espcs=remote._espcs;
  }
}
