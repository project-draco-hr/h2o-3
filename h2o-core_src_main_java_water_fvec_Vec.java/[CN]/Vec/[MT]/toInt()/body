{
  if (isInt() && _domain == null)   return this.makeCopy(null);
  if (!isEnum())   throw new IllegalArgumentException("toInt conversion only works on Enum and Int vecs");
  boolean useDomain=false;
  Vec newVec;
  try {
    int ignored=Integer.parseInt(this._domain[0]);
    useDomain=true;
  }
 catch (  NumberFormatException e) {
  }
  if (useDomain) {
    newVec=this.makeCopy(null);
    final String[] oldDomain=this._domain;
    new MRTask(){
      @Override public void map(      Chunk c){
        for (int i=0; i < c._len; ++i)         c.set(i,Integer.parseInt(oldDomain[(int)c.at8(i)]));
      }
    }
.doAll(newVec);
  }
 else {
    newVec=this.makeCopy(null);
  }
  return newVec;
}
