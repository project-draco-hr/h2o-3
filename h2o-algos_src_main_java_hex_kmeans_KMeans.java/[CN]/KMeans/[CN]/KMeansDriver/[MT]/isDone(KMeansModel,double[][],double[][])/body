{
  if (stop_requested())   return true;
  if (model._output._iterations >= _parms._max_iterations)   return true;
  if (oldCenters == null)   return false;
  double average_change=0;
  for (int clu=0; clu < _parms._k; clu++)   average_change+=hex.genmodel.GenModel.KMeans_distance(oldCenters[clu],newCenters[clu],_isCats,null,null);
  average_change/=_parms._k;
  model._output._avg_centroids_chg=ArrayUtils.copyAndFillOf(model._output._avg_centroids_chg,model._output._avg_centroids_chg.length + 1,average_change);
  model._output._training_time_ms=ArrayUtils.copyAndFillOf(model._output._training_time_ms,model._output._training_time_ms.length + 1,System.currentTimeMillis());
  return average_change < TOLERANCE;
}
