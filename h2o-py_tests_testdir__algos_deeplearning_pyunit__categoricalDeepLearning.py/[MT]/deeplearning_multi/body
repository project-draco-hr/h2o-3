def deeplearning_multi(ip, port):
    h2o.init(ip, port)
    print 'Test checks if Deep Learning works fine with a categorical dataset'
    prostate = h2o.import_frame(path=h2o.locate('smalldata/logreg/prostate.csv'))
    prostate[1] = prostate[1].asfactor()
    prostate[2] = prostate[2].asfactor()
    prostate[3] = prostate[3].asfactor()
    prostate[4] = prostate[4].asfactor()
    prostate[5] = prostate[5].asfactor()
    prostate = prostate.drop('ID')
    prostate.describe()
    hh = h2o.deeplearning(x=prostate.drop('CAPSULE'), y=prostate['CAPSULE'], loss='CrossEntropy', hidden=[10, 10], use_all_factor_levels=False)
    hh.show()
