import bindings as bi
from collections import OrderedDict
thrift_reserved_words = set(['from', 'type', 'exception', 'lambda', 'required'])
if (__name__ == '__main__'):
    bi.init('Thrift', 'thrift')
    type_adapter = ThriftTypeTranslator()
    schemas_map = bi.schemas_map()
    ordered_schemas = OrderedDict()
    for (name, schema) in schemas_map.iteritems():
        add_schema_to_dependency_array(schema, ordered_schemas, schemas_map)
    bi.write_to_file('water/bindings/structs/H2O.thrift', generate_thrift(ordered_schemas))
    type_adapter.vprint_translation_map()
