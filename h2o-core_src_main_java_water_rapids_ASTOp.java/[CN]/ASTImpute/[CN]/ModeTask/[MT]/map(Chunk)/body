{
  for (int i=0; i < c._len; ++i) {
    int h=(int)c.at8(i);
    long offset=ssid(h);
    long cnt=_cnts[h];
    while (!U.compareAndSwapLong(_cnts,offset,cnt,cnt + 1))     cnt=_cnts[h];
    int max=(int)cnt;
    int omax=_max;
    while (max > omax && !U.compareAndSwapInt(this,_maxOffset,omax,max))     omax=_max;
  }
}
