{
  long a=A, b=B;
  long a1=(a<<=1) >= 0 ? a : -1 * a - 1;
  long b1=(b<<=1) >= 0 ? b : -1 * b - 1;
  long v=(a1 >= b1 ? a1 * a1 + a1 + b1 : a1 + b1 * b1) >> 1;
  return a < 0 && b < 0 || a >= 0 && b >= 0 ? v : -v - 1;
}
