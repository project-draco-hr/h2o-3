{
  if (ary == null)   return putInt(-1);
  putInt(ary.length);
  int sofar=0;
  while (sofar < ary.length) {
    DoubleBuffer sb=_bb.asDoubleBuffer();
    int len=Math.min(ary.length - sofar,sb.remaining());
    double[] ary_d=new double[ary.length];
    for (int i=0; i < ary.length; ++i)     ary_d[i]=ary[i];
    sb.put(ary_d,sofar,len);
    sofar+=len;
    _bb.position(_bb.position() + sb.position() * 8);
    if (sofar < ary.length)     sendPartial();
  }
  return this;
}
