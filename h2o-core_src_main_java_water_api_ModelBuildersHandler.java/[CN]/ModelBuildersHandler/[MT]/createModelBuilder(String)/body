{
  ModelBuilder modelBuilder=null;
  try {
    Class<? extends ModelBuilder> clz=ModelBuilder.getModelBuilder(algo);
    if (!(clz.getGenericSuperclass() instanceof ParameterizedType)) {
      throw H2O.fail("Class is not parameterized as expected: " + clz);
    }
    Type[] handler_type_parms=((ParameterizedType)(clz.getGenericSuperclass())).getActualTypeArguments();
    Class<? extends Model.Parameters> pclz=(Class<? extends Model.Parameters>)handler_type_parms[1];
    modelBuilder=clz.getDeclaredConstructor(new Class[]{(Class)handler_type_parms[1]}).newInstance(pclz.newInstance());
  }
 catch (  Exception e) {
    throw H2O.fail("Exception when trying to instantiate ModelBuilder for: " + algo + ": "+ e);
  }
  return modelBuilder;
}
