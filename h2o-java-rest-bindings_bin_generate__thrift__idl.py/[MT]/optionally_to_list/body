def optionally_to_list(simple_type, brackets):
    if ('' == brackets):
        return simple_type
    elif ('[]' == brackets):
        return (('list<' + simple_type) + '>')
    elif ('[][]' == brackets):
        return (('list<list<' + simple_type) + '>>')
    elif ((brackets is not None) and (brackets.strip() is not '')):
        raise Exception(((('Found an unexpected value for brackets for field ' + name) + ': ') + brackets))
