{
  GLRMModel model=null;
  try {
    _parms.read_lock_frames(GLRM.this);
    init(true);
    if (error_count() > 0)     throw new IllegalArgumentException("Found validation errors: " + validationErrors());
    model=new GLRMModel(dest(),_parms,new GLRMModel.GLRMOutput(GLRM.this));
    model.delete_and_lock(_key);
    double[][] yt=new double[_train.numCols()][_parms._num_pc];
    for (int i=0; i < yt.length; i++)     Arrays.fill(yt[i],0);
    GramTask gtsk=new GramTask(_xkey,xinfo).doAll(xinfo._adaptedFrame);
    if (_parms._lambda > 0)     gtsk._gram.addDiag(_parms._lambda);
    Cholesky chol=gtsk._gram.cholesky(null);
    yt=new MulTask(_dkey,dinfo).doAll(dinfo._adaptedFrame)._prod;
    for (int i=0; i < yt.length; i++)     chol.solve(yt[i]);
  }
 catch (  Throwable t) {
    Job thisJob=DKV.getGet(_key);
    if (thisJob._state == JobState.CANCELLED) {
      Log.info("Job cancelled by user.");
    }
 else {
      t.printStackTrace();
      failed(t);
      throw t;
    }
  }
 finally {
    if (model != null)     model.unlock(_key);
    _parms.read_unlock_frames(GLRM.this);
  }
  tryComplete();
}
